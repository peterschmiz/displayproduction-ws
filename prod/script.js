var Banner=Banner||{};Banner=function(e){"use strict";function t(t,a){console.log("%c [Banner] Banner module inited ","background: #199860; color: #fff"),n.element=e.getElementById(t),Banner.Loader.init(a),Banner.Loader.onLoadComplete(Banner.BannerController.init)}var n={};return n.element=null,n.init=t,n}(document),Banner.Loader=function(){"use strict";function e(e){console.log("%c [Banner.Loader] Banner Loader inited ","background: #199860; color: #fff"),c=e||[],t()}function t(){var e;for(e=0;e<c.length;e++)l[e]=new Image,l[e].src=c[e],l[e].onload=n,l[e].onerror=a,s++}function n(){s--,o()}function a(e){console.log("%c [Banner.Loader] Cannot load asset%s ","background: #b83226; color: #fff",e.path&&e.path[0]?": "+e.path[0].src:"!")}function o(){if(!s)for(console.log("%c [Banner.Loader] All assets were loaded (%d assets) ","background: #199860; color: #fff",l.length);d.length>0;)d.shift()()}function r(e){d.push(e),o()}var c,i={},l=[],s=0,d=[];return i.init=e,i.onLoadComplete=r,i}(),Banner.BannerController=function(){"use strict";function e(){console.log("%c [Banner.BannerController] Banner controller inited ","background: #199860; color: #fff"),h=160===document.body.clientWidth&&160===document.body.clientHeight,M=160===document.body.clientWidth&&600===document.body.clientHeight,T=300===document.body.clientWidth&&600===document.body.clientHeight,E=300===document.body.clientWidth&&250===document.body.clientHeight,B=728===document.body.clientWidth&&90===document.body.clientHeight,O=840===document.body.clientWidth&&150===document.body.clientHeight,u(),r(),a(),t(),x(Banner.element,"loaded")===!1?p(Banner.element,"loaded"):g(Banner.element,"loaded"),y()}function t(){var e,t,n,a,o=i(120,180),r=i(360,380),c=i(100,140),l=i(400,400),d=i(100,130),u=i(360,400),y=i(90,100),p=i(330,370),x=i(90,120),g=i(340,400);if(v.circle1part1.setAttribute("d",s(82,82,80,o,r)),v.circle1part2.setAttribute("d",s(82,82,78,o,r)),v.circle2.setAttribute("d",s(82,82,74,c,l)),v.circle3.setAttribute("d",s(82,82,69,d,u)),v.circle4.setAttribute("d",s(82,82,64,d,u)),v.circle5part1.setAttribute("d",s(82,82,60,y,p)),v.circle5part2.setAttribute("d",s(82,82,58,y,p)),v.circle6.setAttribute("d",s(82,82,54,x,g)),M)for(e=document.querySelectorAll("svg path"),n=e.length,t=0;n>t;t++)a=e[t],a.setAttribute("stroke","#fff")}function n(){Enabler.exit("Background Exit")}function a(){void 0!==v.bgexit&&v.bgexit.addEventListener("click",n,!1),void 0!==v.legaltrigger&&v.legaltrigger.addEventListener("click",o,!1)}function o(){var e="bottom-to-top";(728===document.body.clientWidth&&90===document.body.clientHeight||840===document.body.clientWidth&&150===document.body.clientHeight)&&(e="left-to-right"),w===!0?(g(v.legaltrigger,"active"),"left-to-right"===e?TweenMax.to(v.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"-100%",y:"0%"}):TweenMax.to(v.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"100%"}),w=!1):(p(v.legaltrigger,"active"),TweenMax.to(v.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"0%"}),w=!0)}function r(){var e,t=document.getElementById("banner-wrapper"),n=t.querySelectorAll("[id]"),a=0,o=n.length;for(v.wrapper=t,a;o>a;a++)e=n[a].getAttribute("id").replace(/-/gi,"").toLowerCase(),v[e]=document.getElementById(n[a].getAttribute("id"));console.log("%c [Banner.BannerController] DOM elements cached ","background: #199860; color: #fff")}function c(){var e;for(e in v)v.hasOwnProperty(e)&&null===v[e].getAttribute("data-fixed-style")&&(TweenMax.set(v[e],{clearProps:"all"}),v[e].setAttribute("style",""))}function i(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function l(e,t,n,a){var o=(a-90)*Math.PI/180;return{x:e+n*Math.cos(o),y:t+n*Math.sin(o)}}function s(e,t,n,a,o){var r=l(e,t,n,o),c=l(e,t,n,a),i=180>=o-a?"0":"1",s=["M",r.x,r.y,"A",n,n,0,i,0,c.x,c.y].join(" ");return s}function d(e){switch(console.log("%c [Banner.BannerController] Playing phase: %s ","background: #199860; color: #fff",e),e){case"start-screen":c(),g(Banner.element,"screen-1"),g(Banner.element,"screen-2"),p(Banner.element,"start"),TweenMax.to(v.wrapper,.3,{delay:0,ease:Expo.easeOut,opacity:1,onComplete:function(){d("screen-1")}});break;case"screen-1":g(Banner.element,"start"),p(Banner.element,"screen-1"),TweenMax.to(v.headline1,.5,{delay:.5,ease:Expo.easeOut,opacity:1}),h||E?(TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,y:160===document.body.clientHeight?100:150}),TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:8}),160===document.body.clientHeight?TweenMax.to(v.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 10%"}):TweenMax.to(v.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 30%"})):T?(TweenMax.to(v.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 60%"}),TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:10}),TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,y:180})):M?(TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,y:-60}),TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:-80})):B?(TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,x:120,y:"-50%"}),TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.to(v.cta,.6,{delay:2.5,ease:Expo.easeOut,opacity:1})):O?(TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,x:80,y:"-50%"}),TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.to(v.cta,.6,{delay:2.5,ease:Expo.easeOut,opacity:1})):TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.set(Banner.element,{delay:3,onComplete:function(){d("screen-2")}});break;case"screen-2":g(Banner.element,"screen-1"),p(Banner.element,"screen-2"),TweenMax.to(v.circles1,1,{delay:0,css:{transform:"rotate("+-1*i(20,30)+"deg)"}}),TweenMax.to(v.circles2,1,{delay:0,css:{transform:"rotate("+-1*i(15,20)+"deg)"}}),TweenMax.to(v.circles3,1,{delay:0,css:{transform:"rotate("+-1*i(30,50)+"deg)"}}),TweenMax.to(v.circles4,1,{delay:0,css:{transform:"rotate("+-1*i(10,25)+"deg)"}}),TweenMax.to(v.circles5,1,{delay:0,css:{transform:"rotate("+-1*i(0,10)+"deg)"}}),TweenMax.to(v.circles6,1,{delay:0,css:{transform:"rotate("+-1*i(20,40)+"deg)"}}),TweenMax.set(Banner.element,{delay:2,onComplete:function(){d("screen-3")}});break;case"screen-3":h||E?(TweenMax.to(v.headline1,1,{delay:2,ease:Expo.easeOut,y:160===document.body.clientHeight?46:72}),TweenMax.to(v.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:"-100%"}),TweenMax.to(v.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 100%"}),TweenMax.to(v.logo,.6,{delay:3,ease:Expo.easeOut,y:0})):T?(TweenMax.to(v.circleswrapper,.5,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.to(v.headline1,1,{delay:2.3,ease:Expo.easeOut,y:130}),TweenMax.to(v.logo,.6,{delay:3,ease:Expo.easeOut,y:0})):M?(TweenMax.to(v.circleswrapper,.5,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.to(v.headline1,1,{delay:2.5,ease:Expo.easeOut,css:{color:"#00264a"}}),TweenMax.to(v.logo,.6,{delay:3,ease:Expo.easeOut,y:0})):B?(TweenMax.to(v.logo,.6,{delay:3,ease:Expo.easeOut,y:0}),TweenMax.to(v.cta,.3,{delay:3,scale:1.2,yoyo:!0,repeat:1})):O&&(TweenMax.to(v.logo,.6,{delay:3,ease:Expo.easeOut,y:0}),TweenMax.to(v.cta,.3,{delay:3,scale:1.2,yoyo:!0,repeat:1})),TweenMax.to(v.overlay,1,{delay:2.5,opacity:.65}),TweenMax.to(v.cta,.6,{delay:4,ease:Expo.easeOut,opacity:1}),TweenMax.to(v.wrapper,.6,{delay:10,ease:Expo.easeOut,opacity:0,onComplete:function(){d("restart")}});break;case"restart":console.log("%c [Banner.BannerController] Banner is looping, restarting... ","background: #199860; color: #fff"),d("start-screen")}}function u(){function e(){b="visible"===document[a],f===!1&&b?y():b===!1?TweenMax.pauseAll(!0,!0,!0):TweenMax.resumeAll(!0,!0,!0)}function t(){b=!0}function n(){b=!1}var a,o="hidden";o in document?(document.addEventListener("visibilitychange",e),a="visibilityState"):(o="mozHidden")in document?(document.addEventListener("mozvisibilitychange",e),a="mozVisibilityState"):(o="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",e),a="webkitVisibilityState"):(o="msHidden")in document?(document.addEventListener("msvisibilitychange",e),a="msVisibilityState"):"onfocusin"in document?(document.onfocusin=t,document.onfocusout=n):(window.onpageshow=window.onfocus=t,window.onpagehide=window.onblur=n),"visible"===document[a]&&(b=!0)}function y(){b&&(p(Banner.element,"started"),d("start-screen"),f=!0)}function p(e,t){x(e,t)||(e.className+=" "+t)}function x(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function g(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(x(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}var m={},f=!1,w=!1,b=!1,h=!1,M=!1,T=!1,E=!1,B=!1,O=!1,v={};return m.init=e,m.play=y,m.playPhase=d,m}();