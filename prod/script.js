var Banner=Banner||{};Banner=function(e){"use strict";function t(t,o){console.log("%c [Banner] Banner module inited ","background: #199860; color: #fff"),n.element=e.getElementById(t),Banner.Loader.init(o),Banner.Loader.onLoadComplete(Banner.BannerController.init)}var n={};return n.element=null,n.init=t,n}(document),Banner.Loader=function(){"use strict";function e(e){console.log("%c [Banner.Loader] Banner Loader inited ","background: #199860; color: #fff"),i=e||[],t()}function t(){var e;for(e=0;e<i.length;e++)l[e]=new Image,l[e].src=i[e],l[e].onload=n,l[e].onerror=o,d++}function n(){d--,a()}function o(e){console.log("%c [Banner.Loader] Cannot load asset%s ","background: #b83226; color: #fff",e.path&&e.path[0]?": "+e.path[0].src:"!")}function a(){if(!d)for(console.log("%c [Banner.Loader] All assets were loaded (%d assets) ","background: #199860; color: #fff",l.length);s.length>0;)s.shift()()}function r(e){s.push(e),a()}var i,c={},l=[],d=0,s=[];return c.init=e,c.onLoadComplete=r,c}(),Banner.BannerController=function(){"use strict";function e(){console.log("%c [Banner.BannerController] Banner controller inited ","background: #199860; color: #fff"),u(),r(),o(),t(),m(Banner.element,"loaded")===!1?f(Banner.element,"loaded"):y(Banner.element,"loaded"),g()}function t(){var e,t,n,o,a=c(120,180),r=c(360,380),i=c(100,140),l=c(400,400),s=c(100,130),u=c(360,400),g=c(90,100),f=c(330,370),m=c(90,120),y=c(340,400);if(w.circle1part1.setAttribute("d",d(82,82,80,a,r)),w.circle1part2.setAttribute("d",d(82,82,78,a,r)),w.circle2.setAttribute("d",d(82,82,74,i,l)),w.circle3.setAttribute("d",d(82,82,69,s,u)),w.circle4.setAttribute("d",d(82,82,64,s,u)),w.circle5part1.setAttribute("d",d(82,82,60,g,f)),w.circle5part2.setAttribute("d",d(82,82,58,g,f)),w.circle6.setAttribute("d",d(82,82,54,m,y)),160===document.body.clientWidth&&600===document.body.clientHeight)for(e=document.querySelectorAll("svg path"),n=e.length,t=0;n>t;t++)o=e[t],o.setAttribute("stroke","#fff")}function n(){Enabler.exit("Background Exit")}function o(){void 0!==w.bgexit&&w.bgexit.addEventListener("click",n,!1),void 0!==w.legaltrigger&&w.legaltrigger.addEventListener("click",a,!1)}function a(){var e="bottom-to-top";(728===document.body.clientWidth&&90===document.body.clientHeight||840===document.body.clientWidth&&150===document.body.clientHeight)&&(e="left-to-right"),h===!0?(y(w.legaltrigger,"active"),"left-to-right"===e?TweenMax.to(w.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"-100%",y:"0%"}):TweenMax.to(w.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"100%"}),h=!1,w.legaltrigger.removeEventListener("click",a,!1),s(actualPhase)):(f(w.legaltrigger,"active"),TweenMax.to(w.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"0%"}),h=!0,window.clearTimeout(playPhaseTimer))}function r(){var e,t=document.getElementById("banner-wrapper"),n=t.querySelectorAll("[id]"),o=0,a=n.length;for(o;a>o;o++)e=n[o].getAttribute("id").replace(/-/gi,"").toLowerCase(),w[e]=document.getElementById(n[o].getAttribute("id"));console.log("%c [Banner.BannerController] DOM elements cached ","background: #199860; color: #fff")}function i(){var e;for(e in w)w.hasOwnProperty(e)&&null===w[e].getAttribute("data-fixed-style")&&(TweenMax.set(w[e],{clearProps:"all"}),w[e].setAttribute("style",""))}function c(e,t){return Math.floor(Math.random()*(t-e+1)+e)}function l(e,t,n,o){var a=(o-90)*Math.PI/180;return{x:e+n*Math.cos(a),y:t+n*Math.sin(a)}}function d(e,t,n,o,a){var r=l(e,t,n,a),i=l(e,t,n,o),c=180>=a-o?"0":"1",d=["M",r.x,r.y,"A",n,n,0,c,0,i.x,i.y].join(" ");return d}function s(e){switch(console.log("%c [Banner.BannerController] Playing phase: %s ","background: #199860; color: #fff",e),e){case"start-screen":console.time("measurement"),i(),s("screen-1");break;case"screen-1":TweenMax.to(w.headline1,.5,{delay:.5,ease:Expo.easeOut,opacity:1}),300===document.body.clientWidth&&250===document.body.clientHeight||160===document.body.clientWidth&&160===document.body.clientHeight?(TweenMax.to(w.headline1,1,{delay:2,ease:Expo.easeOut,y:160===document.body.clientHeight?100:150}),TweenMax.to(w.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:8}),160===document.body.clientHeight?TweenMax.to(w.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 10%"}):TweenMax.to(w.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 30%"})):300===document.body.clientWidth&&600===document.body.clientHeight?(TweenMax.to(w.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 60%"}),TweenMax.to(w.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:10}),TweenMax.to(w.headline1,1,{delay:2,ease:Expo.easeOut,y:180})):160===document.body.clientWidth&&600===document.body.clientHeight?(TweenMax.to(w.headline1,1,{delay:2,ease:Expo.easeOut,y:-60}),TweenMax.to(w.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:-80})):TweenMax.to(w.headline1,1,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.set(w.headline1,{delay:3,onComplete:function(){s("screen-2")}});break;case"screen-2":TweenMax.to([w.circles1,w.circles2],1,{delay:0,css:{transform:"rotate("+-1*c(20,30)+"deg)"}}),TweenMax.to(w.circles1,1,{delay:0,css:{transform:"rotate("+-1*c(20,30)+"deg)"}}),TweenMax.to(w.circles2,1,{delay:0,css:{transform:"rotate("+-1*c(15,20)+"deg)"}}),TweenMax.to(w.circles3,1,{delay:0,css:{transform:"rotate("+-1*c(30,50)+"deg)"}}),TweenMax.to(w.circles4,1,{delay:0,css:{transform:"rotate("+-1*c(10,25)+"deg)"}}),TweenMax.to(w.circles5,1,{delay:0,css:{transform:"rotate("+-1*c(0,10)+"deg)"}}),TweenMax.to(w.circles6,1,{delay:0,css:{transform:"rotate("+-1*c(20,40)+"deg)"}}),setTimeout(function(){console.timeEnd("measurement"),s("start-screen")},4e3);break;case"restart":console.log("%c [Banner.BannerController] Banner is looping, restarting... ","background: #199860; color: #fff")}}function u(){function e(){x="visible"===document[o],p===!1&&x?g():x===!1?TweenMax.pauseAll(!0,!0,!0):TweenMax.resumeAll(!0,!0,!0)}function t(){x=!0}function n(){x=!1}var o,a="hidden";a in document?(document.addEventListener("visibilitychange",e),o="visibilityState"):(a="mozHidden")in document?(document.addEventListener("mozvisibilitychange",e),o="mozVisibilityState"):(a="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",e),o="webkitVisibilityState"):(a="msHidden")in document?(document.addEventListener("msvisibilitychange",e),o="msVisibilityState"):"onfocusin"in document?(document.onfocusin=t,document.onfocusout=n):(window.onpageshow=window.onfocus=t,window.onpagehide=window.onblur=n),"visible"===document[o]&&(x=!0)}function g(){x&&(f(Banner.element,"started"),s("start-screen"),p=!0)}function f(e,t){m(e,t)||(e.className+=" "+t)}function m(e,t){return new RegExp(" "+t+" ").test(" "+e.className+" ")}function y(e,t){var n=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(m(e,t)){for(;n.indexOf(" "+t+" ")>=0;)n=n.replace(" "+t+" "," ");e.className=n.replace(/^\s+|\s+$/g,"")}}var b={},p=!1,h=!1,x=!1,w={};return b.init=e,b.play=g,b.playPhase=s,b}();