var Banner=Banner||{};Banner=function(e){"use strict";function n(n,a){console.log("%c [Banner] Banner module inited ","background: #199860; color: #fff"),t.element=e.getElementById(n),Banner.Loader.init(a),Banner.Loader.onLoadComplete(Banner.BannerController.init)}var t={};return t.element=null,t.init=n,t}(document),Banner.Loader=function(){"use strict";function e(e){console.log("%c [Banner.Loader] Banner Loader inited ","background: #199860; color: #fff"),i=e||[],n()}function n(){var e;for(e=0;e<i.length;e++)l[e]=new Image,l[e].src=i[e],l[e].onload=t,l[e].onerror=a,s++}function t(){s--,o()}function a(e){console.log("%c [Banner.Loader] Cannot load asset%s ","background: #b83226; color: #fff",e.path&&e.path[0]?": "+e.path[0].src:"!")}function o(){if(!s)for(console.log("%c [Banner.Loader] All assets were loaded (%d assets) ","background: #199860; color: #fff",l.length);d.length>0;)d.shift()()}function r(e){d.push(e),o()}var i,c={},l=[],s=0,d=[];return c.init=e,c.onLoadComplete=r,c}(),Banner.BannerController=function(){"use strict";function e(){console.log("%c [Banner.BannerController] Banner controller inited ","background: #199860; color: #fff"),h=160===document.body.clientWidth&&160===document.body.clientHeight,B=160===document.body.clientWidth&&600===document.body.clientHeight,M=300===document.body.clientWidth&&600===document.body.clientHeight,E=300===document.body.clientWidth&&250===document.body.clientHeight,u(),r(),a(),n(),f(Banner.element,"loaded")===!1?g(Banner.element,"loaded"):m(Banner.element,"loaded"),y()}function n(){var e,n,t,a,o=c(120,180),r=c(360,380),i=c(100,140),l=c(400,400),d=c(100,130),u=c(360,400),y=c(90,100),g=c(330,370),f=c(90,120),m=c(340,400);if(T.circle1part1.setAttribute("d",s(82,82,80,o,r)),T.circle1part2.setAttribute("d",s(82,82,78,o,r)),T.circle2.setAttribute("d",s(82,82,74,i,l)),T.circle3.setAttribute("d",s(82,82,69,d,u)),T.circle4.setAttribute("d",s(82,82,64,d,u)),T.circle5part1.setAttribute("d",s(82,82,60,y,g)),T.circle5part2.setAttribute("d",s(82,82,58,y,g)),T.circle6.setAttribute("d",s(82,82,54,f,m)),B)for(e=document.querySelectorAll("svg path"),t=e.length,n=0;t>n;n++)a=e[n],a.setAttribute("stroke","#fff")}function t(){Enabler.exit("Background Exit")}function a(){void 0!==T.bgexit&&T.bgexit.addEventListener("click",t,!1),void 0!==T.legaltrigger&&T.legaltrigger.addEventListener("click",o,!1)}function o(){var e="bottom-to-top";(728===document.body.clientWidth&&90===document.body.clientHeight||840===document.body.clientWidth&&150===document.body.clientHeight)&&(e="left-to-right"),x===!0?(m(T.legaltrigger,"active"),"left-to-right"===e?TweenMax.to(T.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"-100%",y:"0%"}):TweenMax.to(T.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"100%"}),x=!1):(g(T.legaltrigger,"active"),TweenMax.to(T.legalcopy,1,{delay:0,ease:Expo.easeOut,x:"0%",y:"0%"}),x=!0)}function r(){var e,n=document.getElementById("banner-wrapper"),t=n.querySelectorAll("[id]"),a=0,o=t.length;for(T.wrapper=n,a;o>a;a++)e=t[a].getAttribute("id").replace(/-/gi,"").toLowerCase(),T[e]=document.getElementById(t[a].getAttribute("id"));console.log("%c [Banner.BannerController] DOM elements cached ","background: #199860; color: #fff")}function i(){var e;for(e in T)T.hasOwnProperty(e)&&null===T[e].getAttribute("data-fixed-style")&&(TweenMax.set(T[e],{clearProps:"all"}),T[e].setAttribute("style",""))}function c(e,n){return Math.floor(Math.random()*(n-e+1)+e)}function l(e,n,t,a){var o=(a-90)*Math.PI/180;return{x:e+t*Math.cos(o),y:n+t*Math.sin(o)}}function s(e,n,t,a,o){var r=l(e,n,t,o),i=l(e,n,t,a),c=180>=o-a?"0":"1",s=["M",r.x,r.y,"A",t,t,0,c,0,i.x,i.y].join(" ");return s}function d(e){switch(console.log("%c [Banner.BannerController] Playing phase: %s ","background: #199860; color: #fff",e),e){case"start-screen":i(),m(Banner.element,"screen-1"),m(Banner.element,"screen-2"),g(Banner.element,"start"),TweenMax.to(T.wrapper,.3,{delay:0,ease:Expo.easeOut,opacity:1,onComplete:function(){d("screen-1")}});break;case"screen-1":m(Banner.element,"start"),g(Banner.element,"screen-1"),TweenMax.to(T.headline1,.5,{delay:.5,ease:Expo.easeOut,opacity:1}),h||E?(TweenMax.to(T.headline1,1,{delay:2,ease:Expo.easeOut,y:160===document.body.clientHeight?100:150}),TweenMax.to(T.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:8}),160===document.body.clientHeight?TweenMax.to(T.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 10%"}):TweenMax.to(T.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 30%"})):M?(TweenMax.to(T.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 60%"}),TweenMax.to(T.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:10}),TweenMax.to(T.headline1,1,{delay:2,ease:Expo.easeOut,y:180})):B?(TweenMax.to(T.headline1,1,{delay:2,ease:Expo.easeOut,y:-60}),TweenMax.to(T.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:-80})):TweenMax.to(T.headline1,1,{delay:2,ease:Expo.easeOut,opacity:0}),TweenMax.set(Banner.element,{delay:3,onComplete:function(){d("screen-2")}});break;case"screen-2":m(Banner.element,"screen-1"),g(Banner.element,"screen-2"),TweenMax.to(T.circles1,1,{delay:0,css:{transform:"rotate("+-1*c(20,30)+"deg)"}}),TweenMax.to(T.circles2,1,{delay:0,css:{transform:"rotate("+-1*c(15,20)+"deg)"}}),TweenMax.to(T.circles3,1,{delay:0,css:{transform:"rotate("+-1*c(30,50)+"deg)"}}),TweenMax.to(T.circles4,1,{delay:0,css:{transform:"rotate("+-1*c(10,25)+"deg)"}}),TweenMax.to(T.circles5,1,{delay:0,css:{transform:"rotate("+-1*c(0,10)+"deg)"}}),TweenMax.to(T.circles6,1,{delay:0,css:{transform:"rotate("+-1*c(20,40)+"deg)"}}),TweenMax.set(Banner.element,{delay:2,onComplete:function(){d("screen-3")}});break;case"screen-3":(h||E)&&(TweenMax.to(T.headline1,1,{delay:2,ease:Expo.easeOut,y:160===document.body.clientHeight?46:72}),TweenMax.to(T.circleswrapper,1,{delay:2,ease:Expo.easeOut,y:"-100%"}),TweenMax.to(T.mainbackground,1,{delay:2,ease:Expo.easeOut,backgroundPosition:"center 100%"}),TweenMax.to(T.logo,.6,{delay:3,ease:Expo.easeOut,y:0})),TweenMax.to(T.overlay,1,{delay:2.5,opacity:.65}),TweenMax.to(T.cta,.6,{delay:4,ease:Expo.easeOut,opacity:1}),TweenMax.to(T.wrapper,.6,{delay:10,ease:Expo.easeOut,opacity:0,onComplete:function(){d("restart")}});break;case"restart":console.log("%c [Banner.BannerController] Banner is looping, restarting... ","background: #199860; color: #fff"),d("start-screen")}}function u(){function e(){w="visible"===document[a],b===!1&&w?y():w===!1?TweenMax.pauseAll(!0,!0,!0):TweenMax.resumeAll(!0,!0,!0)}function n(){w=!0}function t(){w=!1}var a,o="hidden";o in document?(document.addEventListener("visibilitychange",e),a="visibilityState"):(o="mozHidden")in document?(document.addEventListener("mozvisibilitychange",e),a="mozVisibilityState"):(o="webkitHidden")in document?(document.addEventListener("webkitvisibilitychange",e),a="webkitVisibilityState"):(o="msHidden")in document?(document.addEventListener("msvisibilitychange",e),a="msVisibilityState"):"onfocusin"in document?(document.onfocusin=n,document.onfocusout=t):(window.onpageshow=window.onfocus=n,window.onpagehide=window.onblur=t),"visible"===document[a]&&(w=!0)}function y(){w&&(g(Banner.element,"started"),d("start-screen"),b=!0)}function g(e,n){f(e,n)||(e.className+=" "+n)}function f(e,n){return new RegExp(" "+n+" ").test(" "+e.className+" ")}function m(e,n){var t=" "+e.className.replace(/[\t\r\n]/g," ")+" ";if(f(e,n)){for(;t.indexOf(" "+n+" ")>=0;)t=t.replace(" "+n+" "," ");e.className=t.replace(/^\s+|\s+$/g,"")}}var p={},b=!1,x=!1,w=!1,h=!1,B=!1,M=!1,E=!1,T={};return p.init=e,p.play=y,p.playPhase=d,p}();